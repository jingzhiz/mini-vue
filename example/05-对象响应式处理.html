<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app"></div>

  <!-- 渲染器 -->
  <script src="./src/renderer/renderer.js"></script>

  <!-- 响应式系统 -->
  <script src="./src/reactivity/effect.js"></script>
  <script src="./src/reactivity/reactivity.js"></script>
  <script src="./src/reactivity/api/computed.js"></script>
  <script src="./src/reactivity/api/watch.js"></script>
  <script src="./src/reactivity/api/reactive.js"></script>
  <script src="./src/reactivity/api/readonly.js"></script>

  <script>
    // const obj = {}
    // const proto = { bar: 1}
    // const child = reactive(obj)
    // const parent = reactive(proto)
    // Object.setPrototypeOf(child, parent)
    // child.raw = obj
    // parent.raw = proto
    // effect(() => {
    //   console.log(child.bar)
    // })
    // child.bar = 2

    // const obj = reactive({
    //   foo: { bar: 1 }
    // })
    // effect(() => {
    //   console.log(obj.foo.bar)
    // })
    // obj.foo.bar++

    // const obj = shallowReactive({
    //   foo: { bar: 1 }
    // })
    // effect(() => {
    //   console.log(obj.foo.bar)
    // })
    // obj.foo.bar++

    // const obj = shallowReadonly({
    //   count: 1
    // })
    // effect(() => {
    //   console.log(obj.count)
    // })
    // obj.count++

    const obj = readonly({
      foo: { bar: 1 }
    })
    effect(() => {
      console.log(obj.foo.bar)
    })
    obj.foo.bar++
  </script>
</body>

</html>